<!DOCTYPE html>
<html lang="en">

	<head>
		<title>Pathways into Darkness | Lucas Zadrozny</title>
		<meta charset="utf8" />
		
		<!-- Force the below links to change the parent window, not the iframe. -->
		<base target="_parent" />
		
		<link rel="stylesheet" type="text/css" href="../styles.css">
	</head>
	
	<body id="mainBackground">
	
		<div id="container">
			<!-- Setup the header. -->
			<div id="header">
				<iframe id="headerFrame" src="../header.html" width="100%" height="45px" frameborder="0"></iframe>
			</div>
			
			<!-- Setup the body. -->
			<div id="body">
	
				<p class="sectionTitle">PATHWAYS INTO DARKNESS</p>
				<p class="sectionSubtitle">first person action adventure</p>
				<hr />
				
				<p class="sectionSubtitle">OVERVIEW</p>
				<p class="sectionBody">Pathways into Darkness is a project I began back in mid 2011 for three reasons:</p>
				<ol>
					<li class="sectionBody">To refine my knowledge of the C programming language.</li>
					<li class="sectionBody">To learn how to design and implement a medium sized software system.</li>
					<li class="sectionBody">To reimplement Bungie's 1993 video game of the same name for modern platforms.</li>
				</ol>
				<br />
				
				<p class="sectionBody">The Pathways into Darkness (referred to from now as PiD) engine that I have created doesn't use any existing game engines. 
				With the exception of wxWidgets and PortAudio (both used for portability concerns) the entire PiD engine was rewritten from scratch.
				The original game data (levels, sounds, textures, etc) are used as input, and all algorithms within the engine have been designed around the original data.</p>
				<p class="sectionBody">I drew off existing research performed by several individuals from the <a href="http://pid.bungie.org/">pid.bungie.org</a> message boards. 
				Where the research was left unclear I performed my own, often in the form of playing the original game (with cheats enabled, hang me!).
				The final result was each of the original PiD monster, weapon and item behaviours being surprisingly close to the original game.</p>
				<br />
				
				<p class="sectionBodyBold">Modules</p>
				<p class="sectionBody">PiD is an interactive 3D application and as such relies on many different modules to function correctly.</p>
				<ul>
					<li class="sectionBody">Rendering - The renderer is a 2.5D renderer: the world is 3D but all objects are represented by 2D sprites.</li>
					<li class="sectionBody">Sound - The sound system supports stereo audio, where sounds within the world are computed for their effect on the players left and right ears.</li>
					<li class="sectionBody">Collision - The collision system is written from the ground up, featuring bounding rectangles and ray tracing.</li>
					<li class="sectionBody">Pack Files - All asset files are grouped into a single binary file and can be individually loaded.</li>
					<li class="sectionBody">AI - Monsters are able to identify and follow paths to the player, then attack the player when within range.</li>
				</ul>
				<br />
				
				<p class="sectionBodyBold">Challenges</p>
				<p class="sectionBody">As expected (for my first medium sized project) PiD presented a number of challenges:</p>
				<ul>
					<li class="sectionBody">Design - PiD was my first attempt at implementing a medium sized software project. 
						At the beginning of the project I knew next to nothing about software design (and nothing about game engine design). 
						This lead to several false starts where the entire codebase was thrown away due to its "design" becoming a pile of hacks. 
						(Fun fact: the iteration shown in screenshots below is my eighth and final PiD implementation).</li>
					<li class="sectionBody">Memory Management - Early iterations of my PiD engine allocated blocks of memory for static variables (such as the current level layout, current level state, etc). This memory was never freed upon application exit.
						The same engine iterations also had many small (hundreds of bytes to several kilobytes) memory allocations at runtime, which were usually local to a single function.
						The current PiD engine only allocates memory on game load and deallocates all memory on shutdown, and has no allocations at runtime.</li>
					<li class="sectionBody">Existing Data - Since the original game files were used as input, the PiD engine required the creation of algorithms around an existing data set.
						This was an interesting puzzle because all the pieces I needed were in front of me, but I needed to determine what transformations to the data would give me the desired result. In some cases this was very easy (such as an indexed linked list for the players inventory) and other cases quite difficult (such as determining the texture collection, shape and palette for world objects).</li>
				</ul>
				<br />
				
				<p class="sectionBodyBold">Lessons</p>
				<ul>
					<li class="sectionBody">Algorithms and Data Structures - applying existing algorithms and data structures to problems. Example applications include: A* search for monster pathfinding and binary heap for object depth sorting.</li>
					<li class="sectionBody">Design - make module interfaces well defined, be 100% clear on the problem and solution before writing any code.</li>
					<li class="sectionBody">Memory management - manipulating raw memory for a useful purpose (such as resizing a bitmap).</li>
					<li class="sectionBody">Importance of comments and clear code.</li>
				</ul>
				<br />
				<hr />
				
				<p class="sectionSubtitle">SCREENSHOTS</p>
				<table class="projectTable" width="100%">
					<!-- First row. -->
					<tr>
						<td>
							<div class="projectContainer">
								<a href="../images/pid/0.jpg"><img class="projectPreview" src="../images/pid/0_thumb.jpg"/></a>
							</div>
						</td>
						
						<td>
							<div class="projectContainer">
								<a href="../images/pid/1.jpg"><img class="projectPreview" src="../images/pid/1_thumb.jpg"/></a>
							</div>
						</td>
						
						<td>
							<div class="projectContainer">
								<a href="../images/pid/2.jpg"><img class="projectPreview" src="../images/pid/2_thumb.jpg"/></a>
							</div>
						</td>
						
						<td>
							<div class="projectContainer">
								<a href="../images/pid/3.jpg"><img class="projectPreview" src="../images/pid/3_thumb.jpg"/></a>
							</div>
						</td>
					</tr>
					
					<!-- Second row. -->
					<tr>
						<td>
							<div class="projectContainer">
								<a href="../images/pid/4.jpg"><img class="projectPreview" src="../images/pid/4_thumb.jpg"/></a>
							</div>
						</td>
						
						<td>
							<div class="projectContainer">
								<a href="../images/pid/5.jpg"><img class="projectPreview" src="../images/pid/5_thumb.jpg"/></a>
							</div>
						</td>
						
						<td>
							<div class="projectContainer">
								<a href="../images/pid/6.jpg"><img class="projectPreview" src="../images/pid/6_thumb.jpg"/></a>
							</div>
						</td>
					</tr>
				</table>
				<br />
				<hr />
				
				<p class="sectionSubtitle">VIDEO</p>
				<table class="projectTable" width="100%">
					<!-- First row. -->
					<tr>
						<td>
							<p class="sectionBody">1. General gameplay (doors, shooting, AI, crystals, etc)</p>
							<iframe align="middle" width="420" height="315" src="http://www.youtube.com/embed/lIyCNgUfBhQ" frameborder="0" allowfullscreen></iframe>
						</td>
					</tr>
					
					<!-- Second row. -->
					<tr>
						<td>
							<p class="sectionBody">2. Debug overview mode (ray tracing + pathfinding)</p>
							<iframe align="middle" width="420" height="315" src="http://www.youtube.com/embed/lIyCNgUfBhQ" frameborder="0" allowfullscreen></iframe>
						</td>
					</tr>
				</table>
				<br />
			</div>
		</div>
		
	</body>
	
</html>